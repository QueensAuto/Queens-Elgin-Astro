---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { mobileTiresBrand } from "../../brands";
import servicesData from "../../data/services.json";
import SmoothReveal from "../../components/SmoothReveal.astro";
import ImageReveal from "../../components/ui/ImageReveal.astro";
import FlowFieldCTA from "../../components/FlowFieldCTA.astro";

const title = "Auto Repair Services in Elgin, IL | Queens Auto Service";
const description =
    "Full-service auto repair in Elgin, IL. Brakes, tires, engine diagnostics, A/C, electrical, and more. Queens Auto Service â€” Elgin's trusted shop since day one.";
---

<BaseLayout brand={mobileTiresBrand} title={title}>
    <!-- Hero Section -->
    <!-- NOTE: Extra top padding to account for floating header -->
    <div class="pt-36 pb-24 sm:pt-48 sm:pb-32" data-reveal>
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div data-reveal-item>
                    <!-- Pulsing Badge -->
                    <div
                        class="inline-flex items-center gap-2.5 px-4 py-1.5 rounded-full bg-queens-secondary-ultra-light dark:bg-queens-secondary-darker border border-queens-secondary-light dark:border-queens-secondary-dark text-queens-secondary-darker dark:text-queens-secondary-ultra-light text-[10px] sm:text-xs font-bold uppercase tracking-[0.2em] mb-8"
                    >
                        <span class="relative flex h-2 w-2">
                            <span
                                class="animate-ping absolute inline-flex h-full w-full rounded-full bg-queens-secondary dark:bg-queens-secondary-ultra-light opacity-75"
                            ></span>
                            <span
                                class="relative inline-flex rounded-full h-2 w-2 bg-queens-secondary dark:bg-queens-secondary-ultra-light"
                            ></span>
                        </span>
                        Expert Auto Services
                    </div>

                    <!-- Premium Heading -->
                    <h1 class="display-hero-page text-queens-primary dark:text-white mb-8">
                        Auto Repair <br />
                        <span class="text-queens-secondary">Services in Elgin</span>
                    </h1>

                    <p
                        class="text-lg md:text-xl text-gray-600 dark:text-gray-300 mb-8 leading-relaxed"
                    >
                        From routine oil changes to complex engine diagnostics,
                        our Elgin team offers comprehensive solutions to keep your
                        vehicle running smoothly.
                    </p>
                    <p class="text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed">
                        We're dedicated to providing honest, reliable service
                        right here on Dundee Ave, ensuring you drive
                        away with confidence and peace of mind.
                    </p>
                </div>
                <div
                    class="relative rounded-2xl overflow-hidden"
                    data-reveal-item
                >
                    <ImageReveal
                        src="/images/shop/Queens-Auto-Services-Elgin-Front-View-Shop-001.webp"
                        alt="Queens Auto Services Shop Front"
                        direction="bottom"
                        loading="eager"
                        className="w-full h-full"
                    />
                </div>
            </div>
        </div>
    </div>

    <!-- Services Grid -->
    <div class="site-canvas py-24 sm:py-32" data-reveal>
        <div
            class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"
        >
                {
                    servicesData.map((category, index) => (
                        <div
                            class="service-card-item rich-text glow-beam-hover flex flex-col rounded-3xl p-8 shadow-xl dark:shadow-black/20 backdrop-blur-sm transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]"
                        >
                            <a href={`/services/${category.slug}/`} class="group">
                                <h2 class="text-gray-900 dark:text-white group-hover:text-queens-secondary transition-colors">{category.title}</h2>
                            </a>
                            
                            {/* Local description blurb */}
                            {category.localDescription && (
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2 mb-4 leading-relaxed">{category.localDescription}</p>
                            )}
                            
                            <!-- Glowing Beam Effect (uses global .glow-beam-sm class) -->
                            <div class="relative w-full h-5 mb-4">
                                <div class="glow-beam-sm"></div>
                            </div>
                            
                            <ul class="flex-1 space-y-2">
                                {category.services.map((service) => (
                                    <li>
                                        <a
                                            href={`/services/${category.slug}/${service.slug}/`}
                                            class="text-gray-600 dark:text-white/80 hover:text-queens-secondary dark:hover:text-queens-secondary hover:underline transition-all text-sm"
                                        >
                                            {service.title}
                                        </a>
                                    </li>
                                ))}
                            </ul>
                            
                            {/* Category page link */}
                            <a
                                href={`/services/${category.slug}/`}
                                class="inline-flex items-center gap-2 mt-6 text-queens-secondary font-bold text-xs uppercase tracking-[0.15em] hover:gap-3 transition-all"
                            >
                                View All {category.title}
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                </svg>
                            </a>
                        </div>
                    ))
                }
            </div>
        </div>
    </div>

    <!-- Orbital Energy Turbine CTA -->
    <FlowFieldCTA />

    <!-- SmoothReveal Animation System -->
    <SmoothReveal />
</BaseLayout>
