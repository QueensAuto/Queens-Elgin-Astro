---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import { mobileTiresBrand } from "../../../brands";
import servicesData from "../../../data/services.json";
import FlowFieldCTA from "../../../components/FlowFieldCTA.astro";

export async function getStaticPaths() {
    return servicesData.map((category) => ({
        params: { category: category.slug },
        props: { category },
    }));
}

const { category } = Astro.props;
const title = `${category.title} in Elgin, IL | Queens Auto Service`;
const description = category.localDescription || category.description;
---

<BaseLayout brand={mobileTiresBrand} title={title}>
    <div class="site-canvas pt-32 pb-24 sm:pt-48 sm:pb-32">
        <!-- Breadcrumbs -->
        <nav class="flex items-center text-[10px] sm:text-xs font-bold uppercase tracking-[0.2em] mb-12 text-gray-400">
            <a href="/" class="hover:text-queens-secondary transition-colors">Home</a>
            <span class="mx-3 opacity-30">/</span>
            <a href="/services/" class="hover:text-queens-secondary transition-colors">Services</a>
            <span class="mx-3 opacity-30">/</span>
            <span class="text-queens-secondary">{category.title}</span>
        </nav>

        <!-- Header Section -->
        <div class="mb-16 md:mb-24">
            <h1 class="text-6xl md:text-8xl font-black text-queens-primary dark:text-white uppercase mb-6 tracking-tighter leading-[0.9]">
                {category.title} <span class="text-queens-secondary">in Elgin</span>
            </h1>
            <p class="text-xl md:text-2xl text-gray-500 dark:text-gray-400 italic font-medium max-w-4xl leading-relaxed">
                {category.localDescription || category.description}
            </p>
        </div>

        <!-- Services Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 mb-24">
            {
                category.services.map((service) => (
                    <a
                        href={`/services/${category.slug}/${service.slug}/`}
                        class="group relative bg-white dark:bg-gray-900/40 rounded-[2.5rem] p-8 md:p-10 shadow-sm hover:shadow-2xl border border-gray-100 dark:border-white/5 flex flex-col transition-all duration-500 hover:-translate-y-2 ring-1 ring-black/5"
                    >
                        <h3 class="font-display text-3xl md:text-4xl font-black uppercase italic text-gray-900 dark:text-white mb-4 leading-none group-hover:text-queens-secondary transition-colors duration-300">
                            {service.title}
                        </h3>
                        
                        <!-- Accent Divider -->
                        <div class="w-10 h-1 bg-queens-secondary/20 rounded-full mb-8 group-hover:w-20 group-hover:bg-queens-secondary transition-all duration-500"></div>
                        
                        <p class="text-gray-600 dark:text-gray-400 text-base leading-relaxed mb-10 flex-1">
                            {service.pitch}
                        </p>
                        
                        <div class="flex items-center gap-2 text-queens-secondary font-black text-xs uppercase tracking-[0.2em]">
                            <span>Explore Service</span>
                            <svg 
                                class="w-4 h-4 transform group-hover:translate-x-1.5 transition-transform duration-300" 
                                fill="none" 
                                stroke="currentColor" 
                                viewBox="0 0 24 24"
                            >
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                            </svg>
                        </div>
                    </a>
                ))
            }
        </div>

        <!-- Pagination/Navigation -->
        <div class="flex justify-center border-t border-gray-100 dark:border-white/5 pt-16">
            <a
                href="/services/"
                class="group inline-flex items-center gap-3 px-8 py-4 bg-white dark:bg-gray-950 border border-gray-200 dark:border-white/10 rounded-full text-gray-900 dark:text-white font-bold uppercase text-[10px] tracking-[0.2em] hover:border-queens-secondary transition-all shadow-sm hover:shadow-lg"
            >
                <svg 
                    class="w-4 h-4 transform group-hover:-translate-x-1 transition-transform duration-300" 
                    fill="none" 
                    stroke="currentColor" 
                    viewBox="0 0 24 24"
                >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                </svg>
                Back to all services
            </a>
        </div>
    </div>

    <!-- Orbital Energy Turbine CTA -->
    <FlowFieldCTA />
</BaseLayout>
